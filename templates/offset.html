{% extends 'base.html' %}
{% block content %}
<div class="container mt-5">
  <h2 class="text-center mb-4">Choose an Offset Program üåç</h2>

  <div class="row">
  {% for program in programs %}
  <div class="col-md-4 mb-4">
    <div class="card shadow-sm border-0 h-100">
      {% if program.image %}
      <img src="{{ url_for('static', filename='images/' + program.image) }}"
           class="card-img-top" alt="{{ program.name }}"
           style="height: 200px; object-fit: cover;">
      {% endif %}
      <div class="card-body text-center">
        <h5 class="card-title fw-bold text-success">{{ program.name }}</h5>
        <p class="card-text text-muted">{{ program.description }}</p>
        <p class="mb-2"><strong>Rate:</strong> {{ program.rate_per_kg }} credits/kg CO‚ÇÇ</p>
        <form action="{{ url_for('offset') }}" method="POST" class="d-flex flex-column align-items-center">
          <input type="hidden" name="program_id" value="{{ program.id }}">
          <input type="number" step="0.1" name="co2_amount"
                 placeholder="Enter CO‚ÇÇ to offset (kg)"
                 class="form-control mb-2 text-center" required>
          <button type="submit" class="btn btn-success w-75">Select & Offset</button>
        </form>
      </div>
    </div>
  </div>
  {% endfor %}
</div>


  {% if message %}
  <div class="alert alert-info text-center mt-4">{{ message }}</div>
  {% endif %}

  <div class="text-center mt-4">
    <a href="{{ url_for('dashboard') }}" class="btn btn-outline-secondary">Back to Dashboard</a>
  </div>
</div>
{% endblock %}
